name: "PHPUnit tests"

on:
  pull_request:
  push:

jobs:
  phpunit:
  runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Cache Composer
        uses: actions/cache@v2
          with:
            path: /tmp/composer-cache
            key: ${{ runner.os }}-${{ hashFiles('**/composer.lock') }}

      - name: Composer
        uses: php-actions/composer@v6
     
      - name: Tests
        run: "make phpunit" 